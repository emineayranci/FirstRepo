<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Bilgi Yarismasi</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div>
        <p><input type="text" class="sure" name="sure" value="30"> <br>
        </p>

        <div id="context">

            <p id="soru"></p> <br>
            <label class='option'><input type='radio' name='option' id="op1" value='A' /> <span
                    id='opt1'></span></label><br>
            <label class='option'><input type='radio' name='option' id="op2" value='B' /> <span
                    id='opt2'></span></label><br>
            <label class='option'><input type='radio' name='option' id="op3" value='C' /> <span
                    id='opt3'></span></label><br>
            <label class='option'><input type='radio' name='option' id="op4" value='D' /> <span
                    id='opt4'></span></label><br>
            <button id="nextButton" class="next-btn" onclick="checkAnswer()"> NEXT </button>
        </div> &nbsp;
        <input type="text" class="money" id="oniki" value="500 TL"> <br> &nbsp;
        <input type="text" class="money" id="onbir" value="1000 TL"><br> &nbsp;
        <input type="text" class="money" id="on" value="2000 TL"><br> &nbsp;
        <input type="text" class="money" id="dokuz" value="3000 TL"><br>&nbsp;
        <input type="text" class="money" id="sekiz" value="5000 TL"><br>&nbsp;
        <input type="text" class="money" id="yedi" value="7500 TL"><br>&nbsp;
        <input type="text" class="money" id="altı" value="15000 TL"><br>&nbsp;
        <input type="text" class="money" id="bes" value="30000 TL"><br>&nbsp;
        <input type="text" class="money" id="dort" value="60000 TL"><br>&nbsp;
        <input type="text" class="money" id="uc" value="125000 TL"><br>&nbsp;
        <input type="text" class="money" id="iki" value="250000 TL"><br>&nbsp;
        <input type="text" class="money" id="bir" value="1000000 TL">
    </div>
</body>

<script>

    var question, a, b, c, d, correctAnswer, options, moneys;
    var counter = 0;
    var sorular = [];
    const url = "https://emineayranci.github.io/FirstRepo/Emine%20Ayranci%20-%20Bilgi%20Yarismasi/sorular.txt";

    function readData() {
        console.log(url);
        fetch(url).then(r => r.text())
            .then(addQuestion);
    }

    function addQuestion(txt) {
        let temp = txt.split("\n");
        for (let i = 0; i < temp.length - 1; i++) {
            let row = temp[i].split("\t");
            question = row[0];
            a = row[1];
            b = row[2];
            c = row[3];
            d = row[4];
            correctAnswer = row[5];
            sorular.push([question, a, b, c, d, correctAnswer]);
        }
        yazdir(0);
    }
    function checkAnswer() {
        options = document.getElementsByName("option");
        moneys = document.getElementsByClassName("money");
        for (let i = 0; i < options.length; i++) {
            if (options[i].checked) {
                console.log("seçili");
                if (sorular[counter][5].includes(options[i].value)) {
                    moneys[counter].style.backgroundColor = "green";
                    counter++;
                    yazdir(counter);
                } else {
                    context.innerHTML = " OYUN BİTTİ "
                }
            }
        }
    }
    function yazdir(numara) {
        if (counter == 12) {
            context.innerHTML = " KAZANDINIZ "
        } else {
            op1.checked = false;
            op2.checked = false;
            op3.checked = false;
            op4.checked = false;

            soru.innerHTML = sorular[numara][0];
            opt1.innerHTML = sorular[numara][1];
            opt2.innerHTML = sorular[numara][2];
            opt3.innerHTML = sorular[numara][3];
            opt4.innerHTML = sorular[numara][4];
        }
    }
    function restart() {

    }
    readData();
</script>

</html>